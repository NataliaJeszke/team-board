@let userId = currentUserId();

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  @if (tasksFacade.loading$()) {
    <p>≈Åadowanie...</p>
  }

  @if (tasksFacade.error$()) {
    <p class="text-red-500">{{ tasksFacade.error$() }}</p>
  }

  @if (tasksFacade.warning$()) {
    <p class="text-yellow-500">{{ tasksFacade.warning$() }}</p>
  }

  @if (userId !== null) {
    <div class="task-grid">
      @for (task of tasksFacade.tasks$(); track task.id) {
        <tb-task
          [task]="task"
          [currentUserId]="userId"
          (edit)="onEdit($event)"
          (delete)="onDelete($event)"
          (statusChange)="onStatusChange($event)"
        />
      }
    </div>
  }
</div>
